---
import { getCategoryList } from "$/utils/content"
import MainGridLayout from "$/layouts/MainGridLayout.astro"
import ArchivePanel from "$/components/ArchivePanel.astro"
import strings from "$/config/strings"
import type { GetStaticPaths } from "astro"

export const getStaticPaths = (async () => {
  const categories = await getCategoryList()
  return [...categories].map(([name]) => ({
    params: { category: name },
  }))
}) satisfies GetStaticPaths

const { category } = Astro.params
---

<MainGridLayout title={strings.nav.archive} description={strings.nav.archive}>
  <ArchivePanel categories={[category]} />
</MainGridLayout>
