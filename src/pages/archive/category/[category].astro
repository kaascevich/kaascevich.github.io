---
import { getCategoryList } from "@utils/content-utils"
import MainGridLayout from "@layouts/MainGridLayout.astro"
import ArchivePanel from "@components/ArchivePanel.astro"
import { i18n } from "@i18n/translation"
import I18nKey from "@i18n/i18nKey"
import type { GetStaticPaths } from "astro"

export const getStaticPaths = (async () => {
  const categories = await getCategoryList()
  return categories.map((category) => ({
    params: { category: category.name },
  }))
}) satisfies GetStaticPaths

const { category } = Astro.params
---

<MainGridLayout
  title={i18n(I18nKey.archive)}
  description={i18n(I18nKey.archive)}
>
  <ArchivePanel categories={[category]} />
</MainGridLayout>
