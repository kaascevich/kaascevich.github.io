---
import type { Page } from "astro"
import type { CollectionEntry } from "astro:content"
import strings from "$/config/strings"
import PageButton from "$/components/control/pagination/PageButton.astro"
import { pageLinkLayout } from "$/utils/pages"
import PageLinks from "$/components/control/pagination/PageLinks.astro"

type Props = Readonly<{
  page: Page<CollectionEntry<"posts">>
  class?: string | undefined
  style?: string | undefined
}>

const { page, class: className, style } = Astro.props

const pageLinks = pageLinkLayout(page)
---

<nav class={className} {style}>
  <PageButton
    url={page.url.prev}
    label={strings.alts.prevPage}
    icon="tabler:chevron-left"
  />
  <PageLinks {pageLinks} current={page.currentPage} />
  <PageButton
    url={page.url.next}
    label={strings.alts.nextPage}
    icon="tabler:chevron-right"
  />
</nav>

<style lang="scss">
  @use "$/styles/main";
  @use "$/styles/theme" as *;
  @use "$/styles/utils" as *;
  @use "$/styles/variants";

  nav {
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: spacing(3);
  }
</style>
