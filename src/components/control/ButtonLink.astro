---
interface Props {
  badge?: string
  url?: string
  label?: string
}

const { badge, url, label } = Astro.props
---

<a href={url} aria-label={label}>
  <button>
    <div class="wrapper">
      <header class="title">
        <slot />
      </header>
      {badge !== undefined && <div class="badge">{badge}</div>}
    </div>
  </button>
</a>

<style lang="scss">
  @use '$/styles/main';
  @use '$/styles/theme' as *;
  @use '$/styles/utils' as *;
  @use '$/styles/variants';

  button {
    @include transition($properties: all);

    @include variants.dark {
      color: gray(87%);

      &:hover {
        color: var(--primary);
      }
    }

    border-radius: $radius-lg;

    background-image: none;

    padding-inline-start: spacing(2);

    block-size: spacing(10);
    inline-size: 100%;

    color: gray(37.1%);

    &:active {
      background-color: var(--btn-plain-bg-active);
    }

    &:hover {
      background-color: var(--btn-plain-bg-hover);

      padding-inline-start: spacing(3);

      color: var(--primary);
    }
  }

  .wrapper {
    display: block flex;
    position: relative;

    align-items: center;
    justify-content: space-between;

    margin-inline-end: spacing(2);
  }

  .title {
    overflow: hidden;

    text-align: start;
    text-overflow: ellipsis;

    white-space: nowrap;
  }

  .badge {
    @include transition;
    @include font-size($text-sm);

    @include variants.dark {
      background-color: var(--primary);

      color: var(--deep-text);
    }

    display: block flex;

    align-items: center;
    justify-content: center;

    margin-inline-start: spacing(4);

    border-radius: $radius-lg;

    background-color: oklch(95% 6.25% var(--hue));

    padding-inline: spacing(2);

    block-size: spacing(7);
    min-inline-size: spacing(8);

    color: var(--btn-content);

    font-weight: $font-weight-bold;
  }
</style>
