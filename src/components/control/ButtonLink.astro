---
interface Props {
  badge?: string
  url?: string
  label?: string
}

const { badge, url, label } = Astro.props
---

<a href={url} aria-label={label}>
  <button>
    <div class="wrapper">
      <header class="title">
        <slot />
      </header>
      {badge !== undefined && <div class="badge">{badge}</div>}
    </div>
  </button>
</a>

<style lang="scss">
  @use '$/styles/main';
  @use '$/styles/theme' as *;
  @use '$/styles/utils' as *;
  @use '$/styles/variants';

  button {
    @include transition($properties: all);
    block-size: spacing(10);

    inline-size: 100%;
    padding-inline-start: spacing(2);

    border-radius: $radius-lg;

    background-image: none;

    color: $color-neutral-700;

    &:active {
      background-color: var(--btn-plain-bg-active);
    }

    &:hover {
      padding-inline-start: spacing(3);

      background-color: var(--btn-plain-bg-hover);

      color: var(--primary);
    }

    @include variants.dark {
      color: $color-neutral-300;

      &:hover {
        color: var(--primary);
      }
    }
  }

  .wrapper {
    display: flex;
    position: relative;
    align-items: center;
    justify-content: space-between;
    margin-inline-end: spacing(2);
  }

  .title {
    overflow: hidden;

    text-align: start;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .badge {
    @include transition;
    @include font-size($text-sm);

    display: flex;
    align-items: center;
    justify-content: center;
    block-size: spacing(7);
    min-inline-size: spacing(8);
    margin-inline-start: spacing(4);
    padding-inline: spacing(2);

    border-radius: $radius-lg;

    background-color: oklch(95% 0.025 var(--hue));

    color: var(--btn-content);
    font-weight: $font-weight-bold;

    @include variants.dark {
      background-color: var(--primary);

      color: var(--deep-text);
    }
  }
</style>
