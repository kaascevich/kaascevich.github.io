---
import strings from '$/config/strings'
import { Icon } from 'astro-icon/components'
---

<div>
  <button
    id="back-to-top-btn"
    class="hide"
    onclick="window.scroll({ top: 0, behavior: 'smooth'})"
    aria-label={strings.alts.backToTop}
  >
    <Icon name="tabler:chevron-up" />
  </button>
</div>

<style lang="scss">
  @use '$/styles/main';
  @use '$/styles/theme' as *;
  @use '$/styles/utils' as *;
  @use '$/styles/variants';

  div {
    display: none;
    position: absolute;
    inset-block-start: 0;
    inset-inline-end: 0;

    block-size: spacing(15);
    inline-size: spacing(15);

    pointer-events: none;

    #back-to-top-btn {
      @extend %btn-card;

      position: fixed;
      inset-block-end: spacing(40);

      translate: spacing(20);

      opacity: 100%;

      border-radius: $radius-xl2;

      cursor: pointer;

      block-size: spacing(15);
      inline-size: spacing(15);

      color: var(--primary);

      font-weight: $font-weight-bold;

      pointer-events: auto;

      &:active {
        scale: 90%;
      }

      svg {
        margin-inline: auto;

        block-size: spacing(8);
        inline-size: spacing(8);
      }

      &.hide {
        scale: 90%;

        opacity: 0%;

        pointer-events: none;
      }
    }

    @include variants.lg {
      display: block flow;
    }
  }

  :dir(rtl) #back-to-top-btn {
    translate: spacing(-20);
  }
</style>
