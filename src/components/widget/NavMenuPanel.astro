---
import type { NavBarLink } from "$/types/config"
import { Icon } from "astro-icon/components"
import { url } from "$/utils/urls"

type Props = Readonly<{
  links: readonly NavBarLink[]
}>

const { links } = Astro.props
---

<div
  id="nav-menu-panel"
  class:list={[
    "float-panel float-panel-closed absolute transition-all fixed right-4 px-2 py-2",
  ]}
>
  {
    links.map((link) => (
      <a
        href={link.external === true ? link.url : url(link.url)}
        class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "
        target={link.external === true ? "_blank" : null}
      >
        <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]">
          {link.name}
        </div>
        {link.external === false && (
          <Icon
            name="tabler:chevron-right"
            class="transition text-[1.25rem] text-[var(--primary)]"
          />
        )}
        {link.external === true && (
          <Icon
            name="tabler:external-link"
            class="transition text-[1.25rem] text-black/25 dark:text-white/25"
          />
        )}
      </a>
    ))
  }
</div>
