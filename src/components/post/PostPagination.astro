---
import type { CollectionEntry } from 'astro:content'
import { getPostUrlByID } from '$/utils/urls'
import { Icon } from 'astro-icon/components'

type Props = Readonly<{
  entry: CollectionEntry<'posts'>
}>

const { entry } = Astro.props
---

<nav
  class="flex flex-col md:flex-row justify-between mb-4 gap-4 overflow-hidden w-full"
>
  {
    entry.data.nextID !== undefined && (
      <a
        href={getPostUrlByID(entry.data.nextID)}
        class="w-full font-bold overflow-hidden active:scale-95 max-w-[calc(50%-0.5rem)]"
      >
        <div class="btn-card rounded-2xl w-full h-[3.75rem] max-w-full px-4 flex items-center !justify-start gap-4">
          <Icon
            name="tabler:chevron-left"
            size="2rem"
            class="text-[--primary]"
          />
          <div class="overflow-hidden transition overflow-ellipsis whitespace-nowrap max-w-[calc(100%_-_3rem)] text-black/75 dark:text-white/75">
            {entry.data.nextTitle}
          </div>
        </div>
      </a>
    )
  }
  {
    entry.data.prevID !== undefined && (
      <a
        href={getPostUrlByID(entry.data.prevID)}
        class="w-full font-bold overflow-hidden active:scale-95 max-w-[calc(50%-0.5rem)]"
      >
        <div class="btn-card rounded-2xl w-full h-[3.75rem] max-w-full px-4 flex items-center !justify-end gap-4">
          <div class="overflow-hidden transition overflow-ellipsis whitespace-nowrap max-w-[calc(100%_-_3rem)] text-black/75 dark:text-white/75">
            {entry.data.prevTitle}
          </div>
          <Icon
            name="tabler:chevron-right"
            size="2rem"
            class="text-[--primary]"
          />
        </div>
      </a>
    )
  }
</nav>
