@use "sass:color";
@use "sass:list";
@use "theme" as *;
@use "variants";

// MARK: Functions

@function spacing($value) {
  @return calc($spacing * $value);
}

@function alpha($color, $alpha) {
  @return color.change($color, $alpha: $alpha);
}

@function white($alpha) {
  @return rgba(255, 255, 255, $alpha);
}

@function black($alpha) {
  @return rgba(0, 0, 0, $alpha);
}

@function with-hue($lightness, $chroma) {
  @return oklch($lightness $chroma var(--hue));
}

// MARK: Mixins

@mixin font-size($font-size, $line-height: null) {
  @if $line-height {
    font-size: $font-size;
    line-height: $line-height;
  } @else {
    // if there is no $line-height parameter, assume that $font-size is a
    // 2-element list (we do this so we can use a single variable to describe a
    // font size and a line height)
    font-size: list.nth($font-size, 1);
    line-height: list.nth($font-size, 2);
  }
}

@mixin before($content: "") {
  &::before {
    content: $content;
    @content;
  }
}

@mixin after($content: "") {
  &::after {
    content: $content;
    @content;
  }
}

@mixin transition(
  $properties: $transition-properties,
  $function: $ease-in-out,
  $duration: $transition-duration,
  $important: ""
) {
  transition: $function $duration {
    property: $properties;
  }
}

@mixin text-plain($alpha) {
  color: black($alpha);
  @include variants.dark {
    color: white($alpha);
  }
}
